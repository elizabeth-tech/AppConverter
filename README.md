# Конвертер

**AppConverter** - Сервис конвертации файлов HTML в PDF с использованием Puppeteer Sharp. ASP.NET Core 6 WebAPI.  
  
**client-app** - Клиент, написанный на React + Typescript.  

## Описание работы клиента и сервиса

Клиент отправляет POST запрос с файлом HTML WebAPI сервису. Сервис запускает задачу по конвертации файла в PDF. Вместо БД или специализированных хранилищ сервис использует 
простое сохранение в папку, где Guid - имя файла. По причине возможной долгой конвертации, сервис сразу возвращает клиенту http ответ 200 с Guid, по которому далее он сможет забрать файл.  
  
  Клиент отправляет запрос HEAD каждые 5 сек в течение минуты, проверяя готовность файла PDF. В случае ответа 200, клиент отправляет запрос GET с Guid для получения сконвертированного файла.
  
## Особенности

- Для реализации сервиса был выбран WebAPI с REST архитектурой. Это позволит использовать абсолютно любой клиент, не привязываясь к конкретной реализации.
 - Для хранения файлов можно использовать MinIO, либо другие специализированные хранилища. 
 - Для исключения долгого ожидания клиентом конвертации файла, можно использовать брокеры сообщений. Т.е. при запросе на конвертацию, не запускаем ее сразу, а отдаем другому сервису на обработку в очередь (применение RabbitMQ, Kafka или Redis). На клиенте можно использовать какие-нибудь уведомления, а не спиннеры или лоадеры, чтобы пользователь мог заниматься другими задачами.
 
 Ввиду того, что эта задача была тестовой и я не располагаю ни развернутыми брокерами сообщений, ни настроенными специализированными хранилищами файлов, алгоритм конвертации был максимально упрощен.
